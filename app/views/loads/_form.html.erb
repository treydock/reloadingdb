
<%= simple_form_for(@load, validate: true) do |f| %>
  <%= f.error_notification %>
  <%= f.error_notification message: f.object.errors[:base].to_sentence if f.object.errors[:base].present? %>

  <div class="form-inputs">
    <%= f.input :date, as: :date, html5: true %>
    <%= f.association :caliber, collection: @calibers %>
    <%= f.input :brass_id, collection: @calibers,
                label_method: :name_caliber, as: :grouped_select, group_method: :brasses, required: true %>
    <%= f.input :brass_length do %>
      <%= f.input_field :brass_length, class: 'form-control-with-unit' %>
      <%= f.input_field :brass_length_unit, as: :select, collection: Unit.length %>
    <% end %>
    <%= f.input :brass_uses %>
    <%= f.input :bullet_id, collection: @calibers,
                label_method: :name_grain_caliber, as: :grouped_select, group_method: :bullets, required: true %>
    <%= f.association :powder, collection: @powders  %>
    <%= f.input :powder_weight %>
    <%= f.association :primer, collection: @primers %>
    <%= f.input :col, label: 'COL' do %>
      <%= f.input_field :col, class: 'form-control-with-unit' %>
      <%= f.input_field :col_unit, as: :select, collection: Unit.length %>
    <% end %>
    <%= f.input :run_out do %>
      <%= f.input_field :run_out, class: 'form-control-with-unit' %>
      <%= f.input_field :run_out_unit, as: :select, collection: Unit.length %>
    <% end %>
    <%= f.input :speed do %>
      <%= f.input_field :speed, class: 'form-control-with-unit' %>
      <%= f.input_field :speed_unit, as: :select, collection: Unit.speed %>
    <% end %>
    <%= f.input :rounds, label: 'Number of Rounds' %>
    <%= f.input :notes %>
  </div>

  <div class="form-actions">
    <%= f.button :submit, class: 'btn-primary' %>
  </div>
<% end %>
